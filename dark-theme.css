/*
 * dazense dark mode text visibility fix
 * Uses CSS nesting syntax (proven to work on Mintlify)
 *
 * Color palette:
 *   Headings / bold:   #FFFFFF
 *   Body text:         #E8E4F0
 *   Muted:             #C8C4D8
 *   Links:             #D4C4FF
 *   Accent:            #A78BFA
 */

/* === Tailwind prose custom properties (highest impact) === */
html.dark .prose {
  --tw-prose-body: #E8E4F0 !important;
  --tw-prose-headings: #FFFFFF !important;
  --tw-prose-bold: #FFFFFF !important;
  --tw-prose-links: #D4C4FF !important;
  --tw-prose-counters: #C8C4D8 !important;
  --tw-prose-bullets: #C8C4D8 !important;
  --tw-prose-code: #FFFFFF !important;
  --tw-prose-pre-code: #FFFFFF !important;
  --tw-prose-pre-bg: rgba(255, 255, 255, 0.06) !important;
  --tw-prose-quotes: #E8E4F0 !important;
  --tw-prose-captions: #C8C4D8 !important;
  --tw-prose-hr: rgba(255, 255, 255, 0.12) !important;
  --tw-prose-th-borders: rgba(255, 255, 255, 0.12) !important;
  --tw-prose-td-borders: rgba(255, 255, 255, 0.12) !important;
  color: #E8E4F0 !important;
}

/* === CSS nesting approach (matches fmerian's working pattern) === */
html.dark {
  /* Body text */
  p,
  li,
  td,
  th,
  dd,
  dt,
  blockquote,
  figcaption,
  label,
  summary {
    color: #E8E4F0 !important;
  }

  /* Headings */
  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    color: #FFFFFF !important;
  }

  /* Bold / strong */
  strong,
  b {
    color: #FFFFFF !important;
  }

  /* Font weight classes */
  .font-semibold,
  .font-bold,
  [class*="font-semibold"],
  [class*="font-bold"] {
    color: #FFFFFF !important;
  }

  /* Links */
  .prose a,
  #content-area a {
    color: #D4C4FF !important;
    text-decoration: underline !important;
    text-underline-offset: 2px !important;
  }

  .prose a:hover,
  #content-area a:hover {
    color: #FFFFFF !important;
  }

  /* Inline code */
  :not(pre) > code {
    color: #FFFFFF !important;
    background: rgba(255, 255, 255, 0.1) !important;
    padding: 0.15em 0.4em !important;
    border-radius: 4px !important;
    border: 1px solid rgba(255, 255, 255, 0.12) !important;
  }

  /* Code blocks */
  pre {
    background: rgba(255, 255, 255, 0.06) !important;
    border: 1px solid rgba(255, 255, 255, 0.12) !important;
  }

  pre code {
    background: transparent !important;
    border: none !important;
    padding: 0 !important;
  }

  /* List markers */
  li::marker {
    color: #C8C4D8 !important;
  }

  /* Table headers */
  thead th {
    color: #FFFFFF !important;
    background: rgba(255, 255, 255, 0.05) !important;
  }

  /* Keyboard shortcuts */
  kbd {
    color: #FFFFFF !important;
    background: rgba(255, 255, 255, 0.12) !important;
    border: 1px solid rgba(255, 255, 255, 0.3) !important;
  }

  /* Placeholders */
  ::placeholder {
    color: #A8A4B8 !important;
    opacity: 1 !important;
  }
}

/* === Override ALL Tailwind gray text utilities === */
html.dark {
  .text-gray-400,
  .text-gray-500,
  .text-gray-600,
  .text-gray-700,
  .text-slate-400,
  .text-slate-500,
  .text-slate-600,
  .text-zinc-400,
  .text-zinc-500,
  .text-zinc-600,
  .text-neutral-400,
  .text-neutral-500,
  .text-neutral-600 {
    color: #E8E4F0 !important;
  }

  .text-gray-100,
  .text-gray-200,
  .text-gray-300,
  .text-slate-100,
  .text-slate-200,
  .text-slate-300,
  .text-zinc-100,
  .text-zinc-200,
  .text-zinc-300 {
    color: #FFFFFF !important;
  }
}

/* === Tailwind dark: variant escaped classes === */
html.dark {
  .dark\:text-gray-300,
  .dark\:text-gray-400,
  .dark\:text-gray-500,
  .dark\:text-gray-600,
  .dark\:text-slate-300,
  .dark\:text-slate-400,
  .dark\:text-slate-500,
  .dark\:text-zinc-300,
  .dark\:text-zinc-400,
  .dark\:text-zinc-500,
  .dark\:text-neutral-300,
  .dark\:text-neutral-400,
  .dark\:text-neutral-500 {
    color: #E8E4F0 !important;
  }
}

/* === Sidebar === */
html.dark #sidebar {
  a,
  span,
  p,
  button,
  li,
  h2,
  h3,
  h4,
  h5 {
    color: #D8D4E4 !important;
  }

  a:hover,
  button:hover {
    color: #FFFFFF !important;
  }
}

/* === Table of contents === */
html.dark #table-of-contents {
  a,
  span,
  li {
    color: #C8C4D8 !important;
  }

  a:hover {
    color: #FFFFFF !important;
  }
}

/* === Navbar === */
html.dark #navbar {
  a,
  span,
  button {
    color: #E8E4F0 !important;
  }

  a:hover,
  button:hover {
    color: #FFFFFF !important;
  }
}

/* === Pagination === */
html.dark #pagination {
  a,
  span {
    color: #E8E4F0 !important;
  }

  a:hover {
    color: #FFFFFF !important;
  }
}

/* === Steps, callouts, tabs === */
html.dark {
  .step,
  [data-step],
  .step-number {
    color: #E8E4F0 !important;
  }

  .callout,
  [class*="callout"],
  [data-callout-type] {
    color: #E8E4F0 !important;
  }

  [role="tab"] {
    color: #D8D4E4 !important;
  }

  [role="tab"][aria-selected="true"] {
    color: #FFFFFF !important;
  }

  .eyebrow {
    color: #A78BFA !important;
  }
}

/* === Footer === */
html.dark footer {
  a,
  span,
  p {
    color: #B8B4C8 !important;
  }

  a:hover {
    color: #E8E4F0 !important;
  }
}

/* === Syntax highlighting (preserve code colors) === */
html.dark {
  .token.comment,
  .token.prolog,
  .token.doctype {
    color: #9CA3AF !important;
  }

  .token.punctuation {
    color: #E5E7EB !important;
  }

  .token.property,
  .token.tag,
  .token.boolean,
  .token.number,
  .token.constant,
  .token.symbol {
    color: #FCA5A5 !important;
  }

  .token.selector,
  .token.attr-name,
  .token.string,
  .token.char,
  .token.builtin {
    color: #86EFAC !important;
  }

  .token.operator,
  .token.entity,
  .token.url {
    color: #E5E7EB !important;
  }

  .token.atrule,
  .token.attr-value,
  .token.keyword {
    color: #F9A8D4 !important;
  }

  .token.function,
  .token.class-name {
    color: #A78BFA !important;
  }

  .token.regex,
  .token.important,
  .token.variable {
    color: #FCD34D !important;
  }
}
